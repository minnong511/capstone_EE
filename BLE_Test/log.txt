2025-08-09
센서 블루투스로 연동 완료 
---
활성 장치: ['Sensor-01', 'Sensor-02', 'Sensor-03']
[Sensor-03] beat:1669000 @ 1754671059.597
[Sensor-01] beat:1898000 @ 1754671059.832
---
2025-08-10 
파일 전송 시스템 제작 
Technical Memo – ESP32–PC BLE WAV 전송 & 자동 삭제

이번 기능은 ESP32가 BLE를 통해 주기적으로 WAV 파일을 전송하고, PC가 이를 수신·저장 후 일정 시간 뒤 삭제하는 구조이다. 
ESP32는 5초마다 WAV 파일을 생성해 META(JSON) 정보와 청크 데이터 순으로 전송하며, 전송 안정성을 위해 META 후 30ms, 청크 간 15ms 지연을 두고 청크 크기를 120바이트로 제한했다.

PC는 META를 수신해 파일 정보를 설정하고, 같은 ID의 META는 무시해 버퍼 초기화를 방지한다. 청크를 순서대로 수신해 EOF 시 저장하고, 10초 후 삭제한다. 
경미한 순서 오류는 INFO로, 크기 불일치는 WARN으로 기록한다. 이 방식으로 데이터 손실과 불필요한 경고를 줄이고 전송 안정성을 높였다.

2025-08-11

병렬 연결해서 작동되는지 확인해야 한다. 
